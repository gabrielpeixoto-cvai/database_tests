\begin{section}{Metodologia}
Em eletrônica, um somador é um circuito digital que, como sugerido pelo próprio
nome, efetua a adição de números. Na maioria dos computadores, os somadores são
utilizados tanto na Unidade Lógica Aritmética (ULA) quanto em outras partes do
processador, onde são calculados endereços, índices, incremento de operadores,
etc.

\subsection{Meio Somador}
O meio somador soma dois dígitos binários de um bit cada. A
Figura~\ref{fig:halfadder} mostra o esquemático do sistema, o qual possui uma
porta lógica do tipo \texttt{XOR} e uma do tipo \texttt{AND}; duas entradas, $A$
e $B$, que representam os bits a serem somados; a saída $S$, resultado da
soma; e a saída $C$, que é o bit de \textit{carry} ou ``vai um'', 
que nada mais é que um bit de \textit{overflow}.

\begin{figure}[!h]
	\centering
	\includegraphics[width=.30\textwidth]{Figures/halfadder}
	\caption{Esquemático de um meio somador.}
	\label{fig:halfadder}
\end{figure}

As saídas do esquemático podem ser escritas em função das entradas com auxílio
da álgebra de Boole, como mostrado abaixo:
\begin{gather*}
	S = A \oplus B \\
	C = A \ \& \ B \notag
\end{gather*}

A Tabela~\ref{tab:halfadder} mostra a tabela verdade do circuito, bem como sua
representação em decimal.
\begin{table}[!h]
\centering
\caption{Tabela verdade de um meio somador.}
\label{tab:halfadder}
\begin{tabular}{cc|cc|c}
	\hline
	$A$ & $B$ & $C$ & $S$ & Decimal \\
	\hline
	0 & 0 & 0 & 0 & 0: 0+0=00\\
	0 & 1 & 0 & 1 & 1: 0+1=01\\
	1 & 0 & 0 & 1 & 1: 1+0=01\\
	1 & 1 & 1 & 0 & 2: 1+1=10\\
	\hline
\end{tabular}
\end{table}

\subsection{Somador Completo}
Um somador completo de um bit adiciona os bits colocados em suas três entradas,
geralmente representadas como $A$, $B$ e $C_{in}$, sendo as duas primeiras as
parcelas e a última, um bit oriundo da soma anterior. O circuito produz duas
saídas, o resultado $S$ da soma e o bit de \textit{carry} $C_{out}$, o qual
servirá como entrada para uma eventual próxima soma.
A Figura~\ref{fig:fulladder} ilustra o esquemático de um somador completo.
Nota-se facilmente que o circuito é construído por um arranjo de dois meio
somadores, com duas portas do tipo \texttt{XOR}, duas do tipo \texttt{AND} e uma
do tipo \texttt{OR}.

\begin{figure}[!h]
	\centering
	\includegraphics[width=.40\textwidth]{Figures/fulladder}
	\caption{Esquemático de um somador completo de 1 bit.}
	\label{fig:fulladder}
\end{figure}

As saídas podem ser escritas do esquemático podem ser escritas em função das
entradas de acordo com a álgebra de Boole, como mostrado abaixo:
\begin{gather*}
	S = A \oplus B \oplus C_{in} \\
	C_{out} = (A \ \& \ B) + ((A \oplus B) \ \& \ C_{in}) \notag
\end{gather*}

\begin{table}[!h]
\centering
\caption{Tabela verdade de um somador completo.}
\label{tab:fulladder}
\begin{tabular}{ccc|cc|c}
	\hline
	$A$ & $B$ & $C_{in}$ & $C_{out}$ & $S$ & Decimal \\
	\hline
	0 & 0 & 0 & 0 & 0 & 0: 0+0+0=00 \\
	0 & 1 & 0 & 0 & 1 & 1: 0+1+0=01 \\
	1 & 0 & 0 & 0 & 1 & 1: 1+0+0=01 \\
	1 & 1 & 0 & 1 & 0 & 2: 1+1+0=10 \\
	0 & 0 & 1 & 0 & 1 & 1: 0+0+1=01 \\
	0 & 1 & 1 & 1 & 0 & 2: 0+1+1=10 \\
	1 & 0 & 1 & 1 & 0 & 2: 1+0+1=10 \\
	1 & 1 & 1 & 1 & 1 & 3: 1+1+1=11 \\
	\hline
\end{tabular}
\end{table}

O modelo abaixo mostra como ocorre a adição de dois números de 8 bits cada. 
Começando da direita para a esquerda, deve-se sempre representar o resultado da
soma com dois bits, sendo o mais significativo ``carregado'' para a próxima
soma. Tal MSB é mostrado na parte de superior do primeiro vetor de bits e 
representa o bit de \textit{carry}; analogamente, o LSB representa o resultado
apresentado na saída $S$. A lógica da soma segue a tabela verdade mostrada na
Tabela~\ref{tab:fulladder}.

\begin{table}[!h]
\centering
\begin{tabular}{llllllllll}
	${}^1$  & $1^1$ & $1^0$ & $0^1$ & $0^1$ & $1^1$ & $1^0$ & $1^0$ & $0^x$ & +\\
			& $0  $ & $1  $ & $0  $ & $1  $ & $1  $ & $1  $ & $0  $ & $0  $ &  \\
	\hline
		$1$ & $0  $ & $0  $ & $1  $ & $0  $ & $1  $ & $0  $ & $1  $ & $0  $ \\
\end{tabular}
\end{table}

A Figura~\ref{fig:fulladder4} mostra um somador completo de 4 bits. Nota-se que,
para somar dois números de $n$ bits, será necessário um arranjo de $n$ somadores
completos, onde o \textit{carry} de saída $C_{out}$ do LSB vai sendo 
sucessivamente ``carregado'' até que se chegue ao bloco somador referente ao MSB
do resultado $S$. Para melhor entendimento, denota-se $S_4$ como o MSB e $S_1$
como o LSB. O último $C_{out}$, mostrado mais à direita, define o sinal do
resultado: ``1'' representa negativo e ``0'', positivo.

\begin{figure}[!h]
	\centering
	\includegraphics[width=.65\textwidth]{Figures/fulladder4}
	\caption{Esquemático de um somador completo de 4 bits.}
	\label{fig:fulladder4}
\end{figure}

\subsection{Complemento de dois}
O somador completo descrito acima têm sua funcionalidade bem definida ao somar
um par de bits com um bit de \textit{carry} da operação anterior. Entretanto,
é válido se perguntar: como o resultado consegue ser apresentado de forma
correta na saída sem que o bloco faça distinção entre decimais positivos ou
negativos? A explicação está na forma em como os bits são representados
dependendo do seu sinal.

O complemento de dois, também conhecido como complemento para dois ou
complemento a dois, é um tipo de representação binária de números com sinal
amplamente usada nas arquiteturas dos dispositivos computacionais modernos. O
modelo, mostrado na Figura~\ref{fig:complement2}, revela que o MSB do número
binário define o sinal: se for ``1'', o número é negativo; se for ``0'', é
positivo. Portanto, no caso da aplicação de um somador de 8 bits, restam apenas
7 bits para representar o módulo ou valor real do número, os quais definem uma
precisão de $-128_{10}$ à $+127_{10}$.

\begin{figure}[!h]
	\centering
	\includegraphics[width=.33\textwidth]{Figures/complement2}
	\caption{Exemplo da representação binária positiva e negativa do número decimal ``45''.}
	\label{fig:complement2}
\end{figure}

Para calcular o complemento de dois de um número, o primeiro passo é fazer o 
complemento de um e, após inverter-se todos os bits, soma-se um ao resultado
parcial.

\subsection{Codificação Binária Decimal}
A codificação binária decimal é importante para podermos converter a saída dos
somadores para números decimais e assim poder mostrá-los no display de 7
segmentos. A codificação é realizada através de um algoritmo chamado
\emph{doubledabble}, exemplificado na \ref{fig:bcd}.

\begin{figure}[!h]
	\centering
	\includegraphics[width=.33\textwidth]{Figures/bcd_exp}
	\caption{Exemplo da conversão binário para BCD}
	\label{fig:bcd}
\end{figure}


\end{section}
%%% EOF %%%
